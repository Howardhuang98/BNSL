#!/usr/bin/env python
# -*- encoding: utf-8 -*-
"""
@File    :   test.py    
@Contact :   huanghoward@foxmail.com
@Modify Time :    2022/3/14 22:50  
------------      
"""

from collections import deque


class Solution:
    def minimumOperations(self, nums, start: int, goal: int) -> int:
        """
        广度优先
        """
        if not nums:
            return -1
        visi = [False]*1001
        q = deque([start])

        depth = 0
        while q:
            print(q)
            size = len(q)
            for i in range(size):
                n = q.popleft()
                if n == goal:
                    return depth
                if n < 0 or n >1000:
                    continue
                for num in nums:
                    for new_n in [n + num, n - num, n ^ num]:
                        if new_n < 0 or new_n > 1000 :
                            q.append(new_n)
                        else:
                            if not visi[new_n]:
                                q.append(new_n)
                                visi[new_n] = True

            depth += 1

        return -1

if __name__ == '__main__':
    s = Solution()
    i = s.minimumOperations([861591831,-698894734,746269901,779004115,-4151434,-207438672,171322226,-921356588,-536663017,-451230991,-315191105,-8447961,-136427148,466518601,743242553,136563752,-805777093,405718872,9727928,644245180,926477391,-306167212,-721480947,-796137641,-760461805,450451800,969324442,151776811,769573257,964575221,885644934,-166074531,-428804687,-857952745,414351327,873552371,-949312655,971603313,-951112326,684677906,-502920064,-19772940,556798776,-246104748,-582724744,-12213579,33522971,-14297658,-543683060,-540736950,-277214348,43990844,265653404,162460926,-869723708,967779146,612676766,287887635,910794448,197115802,-871342759,-398341670,17686719,689801285,428435793,473279182,-195361905,-315614532,645241220,-840775079,773905622,447026458,-317185866,258475832,532195820,511337911,641424927,-740333625,-274485860,911940340,526556050,-321679726,815202736,98635609,491017570,250997871,121831002,868154648,-383438700,890484993,-599691286,256349247,760103793,18372186,360499911,-330552184,31146204,-230182627,792008786,190829263,-245492614,-122568641,106333414,677522769,-165225826,602955367,830756270,618178329,521908209,-516588463,-379047479,763901695,-362955278,-816735032,-348533430,775433890,417051065,-371304989,-968117276,-823143955,441431805,-28340263,391672955,-681921464,256316244,954848219,-169910968,319281858,-994903771,635062012,195150799,800772892,134902698,574464370,650445811,290867138,-346007741,306166247,823817746,552309656,220418456,171139039,896140766,34874771,919190844,-986214119,67029181,747185161,815476261,775531821,-959895770,-858864998,310957254,-777332229,966821009,-156230183,-930460555,-170838061,75271717,586935014,-79791296,451430626,-476734548,-157304371,865634544,211401345,669260342,-514153535,-573181428,683548935,271043407,72273854,916049480,978415982,929772056,-56889907,513180127,-436726735,936723417,-827216767,941399524,859449005,-163557666,730620524,-920176238,135070828,-725804433,409609444,732457550,56244204,904897754,375139776,-256399931,417548700,-67623244,-753168786,442803037,-349411371,-459082284,-458677618,-679791902,939577883,376613257,485722597,-302907259,-99642722,-376683900,-88330756,-375831482,-835351777,-985011545,60241438,-559924351,-473114933,-753928494,478232371,930410527,113159867,417669128,270973085,-292622891,-290974095,-352997672,-609071533,-828466396,-859507766,463079067,-494315691,-431432402,716332613,932003457,889099471,306806492,936801631,96211051,-38941848,-138323598,458065494,-412230639,-967540921,-396947964,971236750,-404707042,267473788,583816482,-194523145,579876401,-608567836,898329623,528360557,623932980,-516149397,-761029455,-949702300,-947639949,421544043,887891768,675912923,-665278859,-344705266,915562336,-705671040,518074151,82612762,-866989702,-50065165,-422099359,-85998467,-925330392,589653499,-240251724,-228556314,-51472597,-857851516,-160063045,-835914331,-706269085,-423846249,285206480,690006804,-583501870,-262486383,-663159507,-335546361,-984725599,790496302,-597830341,753383709,910724020,-593268508,933392303,926675215,593080953,-926199791,-761668147,-893721395,-572111436,-368349664,944873412,722064024,243169404,123818375,717109721,59993616,-776362247,-499714042,-236591867,779833075,512345172,828720044,299775880,-932211218,-891529057,-672881109,-895320794,-592035244,972226121,-16363966,658963669,-853596760,-155933908,-721267690,-767487359,-643912703,-76639108,456972326,990605105,640079902,-925147399,561911242,-543460894,-386765651,312292614,-577045139,-180175480,87275232,140693116,785296218,516894854,-172144272,-290340095,-943943680,692671277,345894725,635553014,-131274474,-111898170,302726229,128849295,-40376044,-977565353,754001291,638928826,-572764035,852257954,235810098,570111766,671693744,385350188,-915447341,-924712952,-516738328,699493648,-410163761,845304951,98519373,-615935107,721658205,7617400,-520327391,-479380065,892307468,-748599819,1],790,942)
    print(i)